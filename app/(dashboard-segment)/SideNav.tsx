'use client';

import React from 'react';
import Link from 'next/link';
import { usePathname } from 'next/navigation';

export default function SideNav() {
  const pathname = usePathname();

  const isActive = (path: "dashboard" | "task-management" | "user-management") => {
    if (pathname.includes(path)) {
      return true;
    }

    return false;
  }


  return (
    <>
      {/* Desktop / Tablet side nav */}
      <aside className="w-[250px] bg-[#171717] space-y-4 hidden md:flex flex-col">
        <div className={isActive("dashboard") ? "text-[#5530BE]" : "text-white"}>
          <Link href="/dashboard" className={`flex items-center gap-[16px] ${isActive("dashboard") ? "bg-[#2B2B2B]" : ""}`}>
            <div className={`w-[8px] h-[45px] ${isActive("dashboard") ? "bg-[#5530BE]" : ""} rounded-[0_5px_5px_0]`}></div>

            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M8.75 13C9.99264 13 11 14.0074 11 15.25V18.75C11 19.9926 9.99264 21 8.75 21H5.25C4.00736 21 3 19.9926 3 18.75V15.25C3 14.0074 4.00736 13 5.25 13H8.75ZM18.75 13C19.9926 13 21 14.0074 21 15.25V18.75C21 19.9926 19.9926 21 18.75 21H15.25C14.0074 21 13 19.9926 13 18.75V15.25C13 14.0074 14.0074 13 15.25 13H18.75ZM8.75 14.5H5.25C4.83579 14.5 4.5 14.8358 4.5 15.25V18.75C4.5 19.1642 4.83579 19.5 5.25 19.5H8.75C9.16421 19.5 9.5 19.1642 9.5 18.75V15.25C9.5 14.8358 9.16421 14.5 8.75 14.5ZM18.75 14.5H15.25C14.8358 14.5 14.5 14.8358 14.5 15.25V18.75C14.5 19.1642 14.8358 19.5 15.25 19.5H18.75C19.1642 19.5 19.5 19.1642 19.5 18.75V15.25C19.5 14.8358 19.1642 14.5 18.75 14.5ZM8.75 3C9.99264 3 11 4.00736 11 5.25V8.75C11 9.99264 9.99264 11 8.75 11H5.25C4.00736 11 3 9.99264 3 8.75V5.25C3 4.00736 4.00736 3 5.25 3H8.75ZM18.75 3C19.9926 3 21 4.00736 21 5.25V8.75C21 9.99264 19.9926 11 18.75 11H15.25C14.0074 11 13 9.99264 13 8.75V5.25C13 4.00736 14.0074 3 15.25 3H18.75ZM8.75 4.5H5.25C4.83579 4.5 4.5 4.83579 4.5 5.25V8.75C4.5 9.16421 4.83579 9.5 5.25 9.5H8.75C9.16421 9.5 9.5 9.16421 9.5 8.75V5.25C9.5 4.83579 9.16421 4.5 8.75 4.5ZM18.75 4.5H15.25C14.8358 4.5 14.5 4.83579 14.5 5.25V8.75C14.5 9.16421 14.8358 9.5 15.25 9.5H18.75C19.1642 9.5 19.5 9.16421 19.5 8.75V5.25C19.5 4.83579 19.1642 4.5 18.75 4.5Z"
                fill={isActive("dashboard") ? "#5530BE" : "#A2A2A2"} />
            </svg>

            <h3 className='font-dm-sans text-[14px]'>Home</h3>
          </Link>
        </div>

        <div className={isActive("task-management") ? "text-[#5530BE]" : "text-white"}>
          <Link href="/task-management" className={`flex items-center gap-[16px] ${isActive("task-management") ? "bg-[#2B2B2B]" : ""}`}>
            <div className={`w-[8px] h-[45px] ${isActive("task-management") ? "bg-[#5530BE]" : ""} rounded-[0_5px_5px_0]`}></div>

            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
              <path d="M8.22387 5.52388C8.45818 5.28957 8.45819 4.90967 8.22389 4.67536C7.98958 4.44104 7.60968 4.44103 7.37536 4.67534L5.68084 6.36977L5.20425 5.93447C4.95957 5.71101 4.58006 5.72819 4.35658 5.97287C4.13312 6.21755 4.1503 6.59707 4.39498 6.82053L5.29498 7.64253C5.53186 7.85888 5.89702 7.85062 6.12387 7.62377L8.22387 5.52388ZM8.22389 10.6754C8.45819 10.9096 8.45818 11.2896 8.22387 11.5239L6.12387 13.6238C5.89702 13.8506 5.53186 13.8589 5.29498 13.6425L4.39498 12.8205C4.1503 12.5971 4.13312 12.2175 4.35658 11.9728C4.58006 11.7282 4.95957 11.711 5.20425 11.9344L5.68084 12.3698L7.37536 10.6753C7.60968 10.4411 7.98958 10.441 8.22389 10.6754ZM10.1996 11.3996C9.86829 11.3996 9.59961 11.6683 9.59961 11.9996C9.59961 12.3309 9.86829 12.5996 10.1996 12.5996H12.2044C12.0718 12.2242 11.9996 11.8203 11.9996 11.3996H10.1996ZM4.19961 16.1996H10.2596C10.2203 16.3935 10.1996 16.5942 10.1996 16.7996C10.1996 16.9999 10.2147 17.2005 10.2453 17.3996H4.19961C2.21139 17.3996 0.599609 15.7879 0.599609 13.7996V4.19961C0.599609 2.21139 2.21139 0.599609 4.19961 0.599609H13.7996C15.7879 0.599609 17.3996 2.21139 17.3996 4.19961V8.28123C17.0352 8.07041 16.6304 7.92165 16.1996 7.84939V4.19961C16.1996 2.87413 15.1251 1.79961 13.7996 1.79961H4.19961C2.87413 1.79961 1.79961 2.87413 1.79961 4.19961V13.7996C1.79961 15.1251 2.87413 16.1996 4.19961 16.1996ZM9.59961 5.99961C9.59961 5.66824 9.86829 5.39961 10.1996 5.39961H13.1996C13.5309 5.39961 13.7996 5.66824 13.7996 5.99961C13.7996 6.33098 13.5309 6.59961 13.1996 6.59961H10.1996C9.86829 6.59961 9.59961 6.33098 9.59961 5.99961ZM17.9996 11.3996C17.9996 12.7251 16.9251 13.7996 15.5996 13.7996C14.2741 13.7996 13.1996 12.7251 13.1996 11.3996C13.1996 10.0741 14.2741 8.99961 15.5996 8.99961C16.9251 8.99961 17.9996 10.0741 17.9996 11.3996ZM19.7996 16.7996C19.7996 18.2938 18.5996 19.7996 15.5996 19.7996C12.5996 19.7996 11.3996 18.2995 11.3996 16.7996C11.3996 15.8055 12.2055 14.9996 13.1996 14.9996H17.9996C18.9937 14.9996 19.7996 15.8055 19.7996 16.7996Z"
                fill={isActive("task-management") ? "#5530BE" : "#A2A2A2"} />
            </svg>

            <h3 className='font-dm-sans text-[14px]'>Task Management</h3>
          </Link>
        </div>

        <div className={isActive("user-management") ? "text-[#5530BE]" : "text-white"}>
          <Link href="/user-management/" className={`flex items-center gap-[16px] ${isActive("user-management") ? "bg-[#2B2B2B]" : ""} `}>
            <div className={`w-[8px] h-[45px] ${isActive("user-management") ? "bg-[#5530BE]" : ""} rounded-[0_5px_5px_0]`}></div>

            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
              <g clipPath="url(#clip0_1622_19347)">
                <path d="M10 13C10 13.5304 10.2107 14.0391 10.5858 14.4142C10.9609 14.7893 11.4696 15 12 15C12.5304 15 13.0391 14.7893 13.4142 14.4142C13.7893 14.0391 14 13.5304 14 13C14 12.4696 13.7893 11.9609 13.4142 11.5858C13.0391 11.2107 12.5304 11 12 11C11.4696 11 10.9609 11.2107 10.5858 11.5858C10.2107 11.9609 10 12.4696 10 13Z" stroke={isActive("user-management") ? "#5530BE" : "#A2A2A2"} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" />
                <path d="M8 21V20C8 19.4696 8.21071 18.9609 8.58579 18.5858C8.96086 18.2107 9.46957 18 10 18H14C14.5304 18 15.0391 18.2107 15.4142 18.5858C15.7893 18.9609 16 19.4696 16 20V21" stroke={isActive("user-management") ? "#5530BE" : "#A2A2A2"} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" />
                <path d="M15 5C15 5.53043 15.2107 6.03914 15.5858 6.41421C15.9609 6.78929 16.4696 7 17 7C17.5304 7 18.0391 6.78929 18.4142 6.41421C18.7893 6.03914 19 5.53043 19 5C19 4.46957 18.7893 3.96086 18.4142 3.58579C18.0391 3.21071 17.5304 3 17 3C16.4696 3 15.9609 3.21071 15.5858 3.58579C15.2107 3.96086 15 4.46957 15 5Z" stroke={isActive("user-management") ? "#5530BE" : "#A2A2A2"} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" />
                <path d="M17 10H19C19.5304 10 20.0391 10.2107 20.4142 10.5858C20.7893 10.9609 21 11.4696 21 12V13" stroke={isActive("user-management") ? "#5530BE" : "#A2A2A2"} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" />
                <path d="M5 5C5 5.53043 5.21071 6.03914 5.58579 6.41421C5.96086 6.78929 6.46957 7 7 7C7.53043 7 8.03914 6.78929 8.41421 6.41421C8.78929 6.03914 9 5.53043 9 5C9 4.46957 8.78929 3.96086 8.41421 3.58579C8.03914 3.21071 7.53043 3 7 3C6.46957 3 5.96086 3.21071 5.58579 3.58579C5.21071 3.96086 5 4.46957 5 5Z" stroke={isActive("user-management") ? "#5530BE" : "#A2A2A2"} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" />
                <path d="M3 13V12C3 11.4696 3.21071 10.9609 3.58579 10.5858C3.96086 10.2107 4.46957 10 5 10H7" stroke={isActive("user-management") ? "#5530BE" : "#A2A2A2"} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" />
              </g>
              <defs>
                <clipPath id="clip0_1622_19347">
                  <rect width="24" height="24" fill="white" />
                </clipPath>
              </defs>
            </svg>

            <h3 className='font-dm-sans text-[14px]'>User Management</h3>
          </Link>
        </div>
      </aside>
      {/* Mobile fixed bottom nav (icons only) */}
      <nav className="fixed bottom-0 left-0 right-0 bg-[#171717] border-t border-[#2B2B2B] py-2 flex justify-around items-center md:hidden z-50 h-[68px]">
        <Link href="/dashboard" aria-label="Home" className={`flex flex-col items-center gap-1 ${isActive("dashboard") ? "text-[#5530BE]" : "text-[#A2A2A2]"}`}>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M8.75 13C9.99264 13 11 14.0074 11 15.25V18.75C11 19.9926 9.99264 21 8.75 21H5.25C4.00736 21 3 19.9926 3 18.75V15.25C3 14.0074 4.00736 13 5.25 13H8.75ZM18.75 13C19.9926 13 21 14.0074 21 15.25V18.75C21 19.9926 19.9926 21 18.75 21H15.25C14.0074 21 13 19.9926 13 18.75V15.25C13 14.0074 14.0074 13 15.25 13H18.75ZM8.75 14.5H5.25C4.83579 14.5 4.5 14.8358 4.5 15.25V18.75C4.5 19.1642 4.83579 19.5 5.25 19.5H8.75C9.16421 19.5 9.5 19.1642 9.5 18.75V15.25C9.5 14.8358 9.16421 14.5 8.75 14.5ZM18.75 14.5H15.25C14.8358 14.5 14.5 14.8358 14.5 15.25V18.75C14.5 19.1642 14.8358 19.5 15.25 19.5H18.75C19.1642 19.5 19.5 19.1642 19.5 18.75V15.25C19.5 14.8358 19.1642 14.5 18.75 14.5ZM8.75 3C9.99264 3 11 4.00736 11 5.25V8.75C11 9.99264 9.99264 11 8.75 11H5.25C4.00736 11 3 9.99264 3 8.75V5.25C3 4.00736 4.00736 3 5.25 3H8.75ZM18.75 3C19.9926 3 21 4.00736 21 5.25V8.75C21 9.99264 19.9926 11 18.75 11H15.25C14.0074 11 13 9.99264 13 8.75V5.25C13 4.00736 14.0074 3 15.25 3H18.75ZM8.75 4.5H5.25C4.83579 4.5 4.5 4.83579 4.5 5.25V8.75C4.5 9.16421 4.83579 9.5 5.25 9.5H8.75C9.16421 9.5 9.5 9.16421 9.5 8.75V5.25C9.5 4.83579 9.16421 4.5 8.75 4.5ZM18.75 4.5H15.25C14.8358 4.5 14.5 4.83579 14.5 5.25V8.75C14.5 9.16421 14.8358 9.5 15.25 9.5H18.75C19.1642 9.5 19.5 9.16421 19.5 8.75V5.25C19.5 4.83579 19.1642 4.5 18.75 4.5Z"
              fill="currentColor" />
          </svg>
        </Link>

        <Link href="/task-management" aria-label="Tasks" className={`flex flex-col items-center gap-1 ${isActive("task-management") ? "text-[#5530BE]" : "text-[#A2A2A2]"}`}>
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M8.22387 5.52388C8.45818 5.28957 8.45819 4.90967 8.22389 4.67536C7.98958 4.44104 7.60968 4.44103 7.37536 4.67534L5.68084 6.36977L5.20425 5.93447C4.95957 5.71101 4.58006 5.72819 4.35658 5.97287C4.13312 6.21755 4.1503 6.59707 4.39498 6.82053L5.29498 7.64253C5.53186 7.85888 5.89702 7.85062 6.12387 7.62377L8.22387 5.52388ZM8.22389 10.6754C8.45819 10.9096 8.45818 11.2896 8.22387 11.5239L6.12387 13.6238C5.89702 13.8506 5.53186 13.8589 5.29498 13.6425L4.39498 12.8205C4.1503 12.5971 4.13312 12.2175 4.35658 11.9728C4.58006 11.7282 4.95957 11.711 5.20425 11.9344L5.68084 12.3698L7.37536 10.6753C7.60968 10.4411 7.98958 10.441 8.22389 10.6754ZM10.1996 11.3996C9.86829 11.3996 9.59961 11.6683 9.59961 11.9996C9.59961 12.3309 9.86829 12.5996 10.1996 12.5996H12.2044C12.0718 12.2242 11.9996 11.8203 11.9996 11.3996H10.1996ZM4.19961 16.1996H10.2596C10.2203 16.3935 10.1996 16.5942 10.1996 16.7996C10.1996 16.9999 10.2147 17.2005 10.2453 17.3996H4.19961C2.21139 17.3996 0.599609 15.7879 0.599609 13.7996V4.19961C0.599609 2.21139 2.21139 0.599609 4.19961 0.599609H13.7996C15.7879 0.599609 17.3996 2.21139 17.3996 4.19961V8.28123C17.0352 8.07041 16.6304 7.92165 16.1996 7.84939V4.19961C16.1996 2.87413 15.1251 1.79961 13.7996 1.79961H4.19961C2.87413 1.79961 1.79961 2.87413 1.79961 4.19961V13.7996C1.79961 15.1251 2.87413 16.1996 4.19961 16.1996ZM9.59961 5.99961C9.59961 5.66824 9.86829 5.39961 10.1996 5.39961H13.1996C13.5309 5.39961 13.7996 5.66824 13.7996 5.99961C13.7996 6.33098 13.5309 6.59961 13.1996 6.59961H10.1996C9.86829 6.59961 9.59961 6.33098 9.59961 5.99961ZM17.9996 11.3996C17.9996 12.7251 16.9251 13.7996 15.5996 13.7996C14.2741 13.7996 13.1996 12.7251 13.1996 11.3996C13.1996 10.0741 14.2741 8.99961 15.5996 8.99961C16.9251 8.99961 17.9996 10.0741 17.9996 11.3996ZM19.7996 16.7996C19.7996 18.2938 18.5996 19.7996 15.5996 19.7996C12.5996 19.7996 11.3996 18.2995 11.3996 16.7996C11.3996 15.8055 12.2055 14.9996 13.1996 14.9996H17.9996C18.9937 14.9996 19.7996 15.8055 19.7996 16.7996Z"
              fill="currentColor" />
          </svg>
        </Link>

        <Link href="/user-management/" aria-label="Users" className={`flex flex-col items-center gap-1 ${isActive("user-management") ? "text-[#5530BE]" : "text-[#A2A2A2]"}`}>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
            <g clipPath="url(#clip0_1622_19347)">
              <path d="M10 13C10 13.5304 10.2107 14.0391 10.5858 14.4142C10.9609 14.7893 11.4696 15 12 15C12.5304 15 13.0391 14.7893 13.4142 14.4142C13.7893 14.0391 14 13.5304 14 13C14 12.4696 13.7893 11.9609 13.4142 11.5858C13.0391 11.2107 12.5304 11 12 11C11.4696 11 10.9609 11.2107 10.5858 11.5858C10.2107 11.9609 10 12.4696 10 13Z" stroke={isActive("user-management") ? "#5530BE" : "#A2A2A2"} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" />
              <path d="M8 21V20C8 19.4696 8.21071 18.9609 8.58579 18.5858C8.96086 18.2107 9.46957 18 10 18H14C14.5304 18 15.0391 18.2107 15.4142 18.5858C15.7893 18.9609 16 19.4696 16 20V21" stroke={isActive("user-management") ? "#5530BE" : "#A2A2A2"} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" />
              <path d="M15 5C15 5.53043 15.2107 6.03914 15.5858 6.41421C15.9609 6.78929 16.4696 7 17 7C17.5304 7 18.0391 6.78929 18.4142 6.41421C18.7893 6.03914 19 5.53043 19 5C19 4.46957 18.7893 3.96086 18.4142 3.58579C18.0391 3.21071 17.5304 3 17 3C16.4696 3 15.9609 3.21071 15.5858 3.58579C15.2107 3.96086 15 4.46957 15 5Z" stroke={isActive("user-management") ? "#5530BE" : "#A2A2A2"} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" />
              <path d="M17 10H19C19.5304 10 20.0391 10.2107 20.4142 10.5858C20.7893 10.9609 21 11.4696 21 12V13" stroke={isActive("user-management") ? "#5530BE" : "#A2A2A2"} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" />
              <path d="M5 5C5 5.53043 5.21071 6.03914 5.58579 6.41421C5.96086 6.78929 6.46957 7 7 7C7.53043 7 8.03914 6.78929 8.41421 6.41421C8.78929 6.03914 9 5.53043 9 5C9 4.46957 8.78929 3.96086 8.41421 3.58579C8.03914 3.21071 7.53043 3 7 3C6.46957 3 5.96086 3.21071 5.58579 3.58579C5.21071 3.96086 5 4.46957 5 5Z" stroke={isActive("user-management") ? "#5530BE" : "#A2A2A2"} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" />
              <path d="M3 13V12C3 11.4696 3.21071 10.9609 3.58579 10.5858C3.96086 10.2107 4.46957 10 5 10H7" stroke={isActive("user-management") ? "#5530BE" : "#A2A2A2"} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" />
            </g>
            <defs>
              <clipPath id="clip0_1622_19347">
                <rect width="24" height="24" fill="white" />
              </clipPath>
            </defs>
          </svg>
        </Link>
      </nav>
    </>
  )
}
